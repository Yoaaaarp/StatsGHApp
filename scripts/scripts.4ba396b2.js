"use strict";angular.module("statsGhApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","chart.js"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/user",{templateUrl:"views/user.html",controller:"UserCtrl",controllerAs:"user"}).when("/repos",{templateUrl:"views/repos.html",controller:"ReposCtrl",controllerAs:"repos"}).otherwise({redirectTo:"/"})}]).constant("PathConstant",{API_URL:"https://api.github.com/"}).run(["$http",function(a){a.defaults.headers.common.Accept="application/vnd.github.v3+json"}]),angular.module("statsGhApp").controller("MainCtrl",function(){}),angular.module("statsGhApp").controller("SearchCtrl",["$scope","$location",function(a,b){a.search=function(a){b.path("/user/").search("username",a)}}]),angular.module("statsGhApp").controller("UserCtrl",["$location","$scope","$http","PathConstant",function(a,b,c,d){var e=a.search().username;b.found=0,b.nbRepos=0,b.errorMsg="",e&&c.get(d.API_URL+"users/"+e+"?client_id=da2681a10e6107256614&client_secret=35c0f3e7dbe13c02c136be5f8a5d84482a7591de").then(function(a){b.found=1,b.userData=a.data,null===b.userData.email&&(b.userData.email="none"),b.userData.public_repos>0&&c.get(d.API_URL+"users/"+e+"/subscriptions?client_id=da2681a10e6107256614&client_secret=35c0f3e7dbe13c02c136be5f8a5d84482a7591de").then(function(a){b.reposData=a.data,b.nbRepos=a.data.length},function(a){console.dir(a)})},function(a){console.dir(a),b.errorMsg=a.status+" - "+a.statusText+"\n",b.errorMsg=b.errorMsg+a.message})}]),angular.module("statsGhApp").controller("ReposCtrl",["$location","$scope","$http","PathConstant",function(a,b,c,d){var e=a.search();b.username=e.name,b.reposName=e.id,b.creator=e.creator,b.commitChart={},b.username&&b.reposName&&b.creator&&c.get(d.API_URL+"repos/"+b.creator+"/"+b.reposName+"?client_id=da2681a10e6107256614&client_secret=35c0f3e7dbe13c02c136be5f8a5d84482a7591de").then(function(a){b.repos=a.data,c.get(d.API_URL+"repos/"+b.creator+"/"+b.reposName+"/contributors?client_id=da2681a10e6107256614&client_secret=35c0f3e7dbe13c02c136be5f8a5d84482a7591de").then(function(a){var c=[];b.commitChart.chartContributorData=[c],b.commitChart.chartContributorLabels=[];for(var d=0;d<a.data.length;d++)c[d]=a.data[d].contributions,b.commitChart.chartContributorLabels[d]=a.data[d].login},function(a){console.log("fail")})},function(a){console.dir(a)})}]),angular.module("statsGhApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<!-- <div class="jumbotron">\n  <h1>\'Allo, \'Allo!</h1>\n  <p class="lead">\n    <img src="images/yeoman.c582c4d1.png" alt="I\'m Yeoman"><br>\n    Always a pleasure scaffolding your apps.\n  </p>\n  <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p>\n</div> --> <div class="row marketing"> <h4>Stats for GitHub </h4> <p> Search a GitHub\'s user. </p> <p> Found his repositories. </p> <p> Check some stats for each of these ! </p> </div>'),a.put("views/repos.html",'<!-- BASIC INFORMATIONS --> <div class="jumbotron"> <h2>{{repos.name}}</h2> <h3>Created by : {{repos.owner.login}}</h3> <p> <u><b>Description</b></u> :  {{repos.description}} </p> <p> Main language : {{repos.language}} <br> Forked {{repos.forks_count}} times </p> </div> <!-- SOME CHARTS --> <div class="container"> <div class="col-md-12" ng-if="commitChart.chartContributorData && commitChart.chartContributorLabels"> <!-- PARTICIPATIONS CHART --> <canvas class="chart chart-bar" chart-data="commitChart.chartContributorData" chart-labels="commitChart.chartContributorLabels"></canvas> </div> </div>'),a.put("views/user.html",'<!-- PARTIE SI ERREUR RESULTAT --> <div class="row&quot;" data-ng-show="!found"> <div class="cold-md-4"> Erreur lors du chargement : </div> <div class="cold-md-8"> {{ errorMsg }} </div> </div> <!-- PARTIE SI SUCCES RESULTAT --> <div data-ng-show="found"> <div class="row"> <div class="col-md-6"><img height="250" width="250" src="{{userData.avatar_url}}"></div> <div class="col-md-6&quot;"> <h3>User\'s info</h3> <ul> <li><b>Username</b> : {{userData.login}}</li> <li><b>Url :</b>{{userData.html_url}}</li> <li><b>E-mail : </b>{{userData.email}}</li> <!--<li><b>Nb followers : </b>{{userData.followers}}</li>--> </ul> </div> </div> <div class="row"> <div class="col-md-12"><h3>Public repositories ({{nbRepos}})</h3></div> </div> <div class="row"> <div class="col-md-12" ng-repeat="repo in reposData"> <p><a ng-href="#/repos/?name={{userData.login}}&creator={{repo.owner.login}}&id={{repo.name}}">{{repo.name}}</a></p> </div> </div> </div>')}]);